<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />

    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <meta name="theme-color" content="#1e293b" />

    <title>Методика Кофе</title>
    <meta
      name="description"
      content="Методика Кофе — заказ авторского кофе"
    />

    <link rel="icon" href="%PUBLIC_URL%/logo.svg" />

    <!-- Telegram SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>

    <!-- CRITICAL: Telegram init BEFORE React -->
    <script>
      (function () {
        if (window.Telegram && window.Telegram.WebApp) {
          const tg = window.Telegram.WebApp;
          tg.ready();
          tg.expand();
          document.documentElement.style.height = '100%';
          document.body.style.height = '100%';
          document.body.style.margin = '0';
        }
      })();
    </script>

    <style>
      html,
      body {
        margin: 0;
        padding: 0;
        height: 100%;
        background: #0f172a;
        color: #fff;
        font-family: system-ui, -apple-system, BlinkMacSystemFont,
          'Segoe UI', sans-serif;
      }

      #root {
        height: 100%;
      }

      #boot {
        position: fixed;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #0f172a;
        z-index: 9999;
        font-size: 16px;
      }
    </style>
  </head>

  <body>
    <div id="boot">Методика Кофе загружается…</div>
    <div id="root"></div>

    <script>
      // убираем заглушку после старта React
      window.addEventListener('load', () => {
        const boot = document.getElementById('boot');
        if (boot) boot.remove();
      });
    </script>
  </body>
</html>
